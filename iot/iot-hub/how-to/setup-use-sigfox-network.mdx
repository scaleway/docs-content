---
meta:
  title: How to set up and use a Sigfox network
  description: This page explains how to set up and use a Sigfox network
content:
  h1: How to set up and use a Sigfox network
  paragraph: This page explains how to set up and use a Sigfox network
steps:
  - step: TODO
    type: HowToStep
    url: https://www.scaleway.com/en/docs/iot/iot-hub/how-to/setup-use-sigfox-network/
dates:
  validation: 2021-06-02
  posted: 2019-09-01
---

The [Sigfox](https://www.sigfox.com/en) network type allows devices communicating with the Sigfox protocol to exchange messages with the IoT Hub. Sigfox will collect messages from your devices, and relay them to your IoT Hub.

<Message type="requirement">

- You have an account and are logged into the [Scaleway Console](https://console.scaleway.com)
- You have [created an IoT Hub](/iot/iot-hub/how-to/create-hub)
- You have [created an Sigfox account](https://build.sigfox.com/)

</Message>

<Message type="note">

The Sigfox network doesn't support downlink messages yet. This will be available soon.

</Message> 

## How to set up a Sigfox network 

<Message type="tip">

To set up a Sigfox network, a **Sigfox account** is needed. If you do not have an account, take a look at [this page](https://build.sigfox.com/) to get started.

</Message>

1. Click **IoT Hub** in the **IoT Station** section of the side menu. The list of your IoT Hubs displays.

2. Click the name of the IoT Hub that you want to configure. The hub's overview page displays. 

3. Click the **Networks** tab on the hub's overview page.

4. Click the **Add network** button to access the network creation wizard.
  <Lightbox src="assets/scaleway-iothub_network_add.png" alt="" />

5. Complete the form by specifying the network's details:
    * Enter a name for your network.
    * Choose Sigfox as the type of network you want to create.
    * Choose a topic prefix your network should publish to. You may leave this empty. All the messages published to this network will have their topics prefixed with this value.
  <Lightbox src="assets/scaleway-iothub_network_modal_sigfox.png" alt="" />

6. Click **Create Network**. A summary of the network you created, displays. Take note of the two key parameters:
  * The network endpoint.
  * The network secret. Be careful, this secret will **only be shown once**!

This information is required to configure the Sigfox backend.

## How to configure the Sigfox backend

Now you have successfully created your Sigfox network, it's time to configure the Sigfox **callbacks** to relay messages to your Iot Hub.

1. Log into the [Sigfox backend](https://backend.sigfox.com).

2. Go the **DEVICE TYPE** tab
  <Lightbox src="assets/iothub_network_sigfox_devicetype_tab.png" alt="" />

3. Click the **CALLBACKS** entry in the left menu
  <Lightbox src="assets/iothub_network_sigfox_devicetype_callbacks.png" alt="" />

4. Select the **Custom callback** option
  <Lightbox src="assets/iothub_network_sigfox_devicetype_new_custom_callback.png" alt="" />

5. Fill-in the form like the example below.
  <Lightbox src="assets/iothub_network_sigfox_devicetype_callback_form.png" alt="" />

Let us go through each field:

* **Type**: `DATA` `UPLINK` as we do not yet support `BIDIR` callback (will be available soon)
* **Channel**: `URL`.
* **Custom payload config**: Leave it empty.
* **Url pattern**: Enter the network endpoint in this field, for example `https://sigfox.iot.fr-par.scw.cloud`.
* **Url method**: `POST`.
* **Send SNI**: Check this box.
* **Headers**: In this section, we need to define three headers. Do not worry if you only see a single line, once you click it a new empty line will appear.

| Header | Value |
|-|-|
| `X-Secret` | Enter here the network secret that was given when you created the network on your Hub |
| `X-Topic` | Choose here the topic that suits your needs. Note that you may use Sigfox-provided variables here if needed. For example, `app/{device}/payload`. This topic will be prefixed with the network topic. |

- Choose a **content type** and **body** that fits your needs. In the example above we chose to send a JSON payload.

In this example, if the device ID is `A1234B`, the sensor payload is `ABCDEF01`, the `topic` header is `{device}/payload`, and the network prefix is `myapp`, then a message will be received on the `myapp/A1234B/payload` topic, containing the following payload: 
```json
{
	"data": "ABCDEF01",
	"id": "A1234B"
}
```

<Navigation title="See Also">
  <PreviousButton to="/iot/iot-hub/how-to/setup-use-rest-network/">How to set up and use a REST network</PreviousButton>
  <NextButton to="/iot/iot-hub/how-to/create-route/">How to create a route</NextButton>
</Navigation>
