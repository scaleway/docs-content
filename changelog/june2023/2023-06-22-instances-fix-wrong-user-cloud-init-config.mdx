---
title: Debian Bookworm image fixes wrong user configuration by upstream cloud-init
status: fixed
author:
    fullname: 'Join the #instance channel on Slack.'
    url: 'https://slack.scaleway.com'
date: 2023-06-22
category: compute
product: instances
---

A new Debian 12 Bookworm image has been released which fixes the wrong
user configuration made by the custom-built upstream cloud-init 23.2.

It now uses the official Debian Unstable cloud-init package.

Users who want to fix their existing image may execute the following
commands:

```
$ wget http://ftp.fr.debian.org/debian/pool/main/c/cloud-init/cloud-init_23.2-1_all.deb -O /tmp/cloud-init_23.2-1_all.deb
$
$ dpkg -i /tmp/cloud-init_23.2-1_all.deb
$
$ for FILE in /etc/group /etc/gshadow /etc/passwd /etc/shadow /etc/subgid /etc/subuid /etc/sudoers.d/90-cloud-init-users;
do
sed -i -e 's/Ubuntu/Debian/g' -e 's/ubuntu/debian/g' $FILE
done
```
