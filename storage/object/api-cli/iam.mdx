---
meta:
  title: 
  description: This page explains how to
content:
  h1: 
  paragraph: This page explains how to 
tags: object storage command bucket s3 iam permissions acl policy
dates:
  validation: 2023-01-23
  posted: 2023-01-17
---

Identity and Access Management (IAM) brings a set of new features to your Scaleway account, allowing you to control and manage access in a fine-grained way. For users of Scaleway Object Storage, this means that besides configuring access via [bucket policies](/storage/object/api-cli/bucket-policy/), you can now use IAM policies to configure even more detailed permissions. 

An IAM policy is used to define the permissions of users, groups and applications in a given Organization. A policy is composed of a principal (the user, group or application to which it applies) and one or more IAM rules (which describe the permission sets the principal should have, and the scope of those permission sets).

Bucket policies are a resource-based S3 policy option which allow you to grant users from different Scaleway projects or Organizations, or even specific IP addresses, access to a bucket. The different component strings of a bucket policy allow you to confifgure your permissions in a variety of ways for different purposes.

Combining bucket and IAM policies can result in a powerful and highly-customizable configuration of permissions.

<Message type="important">
There are a couple of things to keep in mind when using bucket and IAM policies concurrently:
  - when you create a Scaleway API key with IAM, you are prompted to specify the API key’s [preferred Project for Object Storage](/identity-and-access-management/iam/api-cli/using-api-key-object-storage/). This API key will always use this Project when carrying out Object Storage actions via any API/CLI.
  - the preferred Project must always be the one of the bucket where you wish to perform an action. 
  - each bucket can have only one bucket policy
</Message> 





    <Message type="note">
      The application of Object Storage permissions can take up to 5 minutes.
    </Message>




TO KEEP IN MIND FOR LATER:
- Les permissions définies par les policies IAM sont obligatoires pour que ça fonctionne, si aucun droit IAM n'est défini, il n'y a pas d'override
- In the documentation, be sure to inform about the cache and the time it can take for the permissions to be deployed

order of configuration:
1 - Create user or application
2 - IAM policy
2 - API key creation – selecting the preferred project
3 - Bucket policy 




Examples

aws --profile apple-1 s3api put-bucket-policy --bucket mybucketdev --policy file:///Users/luizadelgiudicedecarvalho/bucket-policy.json
```json
{
    "Version": "2012-10-17",
    "Id":"MyBucketPolicy",
    "Statement": [
        {
            "Sid": "Grant List and GET to everyone",
            "Effect":"Deny",
            "Principal":{
                "SCW":"bearer_id:e358680c-23a5-462a-928a-fbc1458697f2"
             },
            "Action":[
                "s3:ListBucket",
                "s3:GetObject"
            ],
            "Resource":[
                "mybucketdev/*"
            ]
        }
    ]
}
```