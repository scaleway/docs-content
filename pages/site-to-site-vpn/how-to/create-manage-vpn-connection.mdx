---
title: How to create and manage a VPN connection
description: TODO
tags: TODO
dates:
  validation: 2025-12-31
  posted: 2025-12-31
---
import Requirements from '@macros/iam/requirements.mdx'

import s2sDiagram from './assets/scaleway-s2svpn-conceptual.webp'

A connection is the central component of a Site-to-Site VPN. It links the VPN gateway to the customer gateway, sets the routing policy(ies), and defines the parameters for the VPN tunnel

<Lightbox image={s2sDiagram} alt="A diagram shows how a VPN gateway connects to a Private Network within a Scaleway VPC, and how a VPN connection then links it to a customer gateway " />

This document explains how to create and manage a Site-to-Site VPN connection with the Scaleway console. 

<Requirements />

- A Scaleway account logged into the [console](https://console.scaleway.com)
- [Owner](/iam/concepts/#owner) status or [IAM permissions](/iam/concepts/#permission) allowing you to perform actions in the intended Organization
- Created a [VPN gateway](TODO) and a [customer gateway](TODO) in the same Scaleway region

## How to create a VPN connection

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your existing VPN connections displays, if you have any.

2. Click **Create connection**. The creation wizard displays.

3. **Choose a region** in which to create your VPN connection. The resource will be created in this geographical location. You must create the connection in the same region as the VPN gateway and customer gateway that you want to connect.

4. **Choose the gateways to connect**. The connection will link the VPN gateway and customer gateways that you select here. Only gateways you have already created in the region you chose at step 3 will be displayed.

    Based on the selected gateways, the **VPN tunnel details** selection panel displays.

5. Select how the VPN tunnel for this connection should be established: via the gateways' **public IPv4 addresses** or their **public IPv6 addressess**.

    <Message type="tip">
    - The two gateways must have at least one public IP type in common, in order to create a VPN connection between them.
    - The IP type you select here does **not** limit both IPv4 and IPv6 traffic from being able to flow through the tunnel. [Read our dedicated documentation](TODO).
    - If both gateways have both public IP types (IPv4 and IPv6) you can create a second VPN connection between them, this time selecting the other IP type, for increased redundancy.
    </Message>

6. **Specify a routing policy** for the connection, (optional). The VPN connection needs a policy for each IP traffic type you want it to route. These policies define the IPv4 and/or IPv6 traffic that is allowed to flow through the tunnel. Without an attached routing policy, no traffic can flow, but you can choose to attach a routng policy after creating the connection, if you prefer.

7. **Set the connection initiation policy** by selecting which gateway should initiate the VPN tunnel.

    <Message type="tip">
    By default, choose the customer gateway to initiate connections if it has a stable IP and no restrictive firewall.
    </Message>

8. **Select a security proposal** for this connection. The security proposal defines the encryption and authentication methods used to secure the IPSec VPN tunnel. For help choosing a security proposal, refer to our [dedicated documentation](/site-to-site-vpn/reference-content/security-proposals/).

    A pre-shared key (PSK) will be generated automatically when you create the VPN connection object. It will be securely stored in Scaleway [Secret Manager](/secret-manager), and can be retrieved for the purposes of configuring your customer gateway device. It is not currently possible to upload your own custom PSK.

9. **Enter a name and (optionally) tags** for the VPN connection.

8. Click **Create connection** to finish.

Your connection is created, and you are directed to its **Overview** page.


## How to view a VPN connection's details

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your VPN connections displays.

2. Use the **region selector** at the top of the page to filter for the region of the connection you want to view, then click the connection in the listing. The connection's **Overview** page displays.

Here you can view the following information:

**Connection information**
  - [Status](TODO)
  - Region
  - ID
  - VPN gateway and customer gateways linked by the connection
  - IP type used to establish the tunnel (IPv4 or IPv6)
  - Initiation policy
  - Link to PSK
  - ESP proposal
  - IKE proposal


**VPN tunnel endpoint addresses**
An encrypted VPN tunnel links the VPN gateway and customer gateway via their public IPs, as shown here:
  - VPN gateway public IP
  - Customer gateway public IP

**BGP sessions**
BGP is used to automatically share routes between the two gateways. The auto-generated private subnets shown here are used to establish the BGP session(s), one per IP version (IPv4 or IPv6). Ensure your customer gateway device is configured with these subnets as BGP peers.
- IPv4 BGP session interconnection subnet (e.g. `169.254.10.0/31`)
- IPv6 BGP session interconnection subnet (e.g. `fd00:10::/127`)

**Route propagation**
Activating route propagation prompts the two gateways to dynamically exchange route information over BGP, using the attached routing policies. Traffic cannot flow if route propagation is not active. The routing policy(ies) attached to the connection are displayed here.
- IPv4 routing policy
- IPv6 routing policy

## How to activate or deactivate route propagation

You must activate route propagation for traffic to be able to flow through the VPN tunnel. Activating route propagation triggers the dynamic exchange of route information between the gateways.

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your VPN connections displays.

2. Use the **region selector** at the top of the page to filter for the region of the connection you want to view, then click the connection in the listing. The connection's **Overview** page displays.

3. In the **Route propagation** section, click **Activate propagation**.  

    A pop-up displays, confirming that the action will launch the BGP session(s), allowing traffic to flow through the tunnel via the routes whitelisted in the attached routing policy(ies).

4. Click **Activate route propagation**.

    Route propagation is activated. You are returned to your connection's overview page. 
    
    While route propagation remains active, the two gateways will dynamically exchange and update route information. Traffic can flow through the VPN tunnel along the routes whitelisted in the routing policy(ies). You can deactivate route propagation at any time: if you do so, all routes are blocked and no traffic can flow.

## How to generate a new version of the PSK

TODO: why/when to do this?

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your VPN connections displays.

2. Use the **region selector** at the top of the page to filter for the region of the connection you want to configure, then click the connection in the listing. The connection's **Overview** page displays.

3. In the **Connection information** panel, under **PSK**, click **Generate version**.

A new version of the PSK secret is created in Scaleway Secret Manager. Ensure that you update your customer gateway device to use the new PSK.

## How to edit a VPN connection's name and tags

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your VPN connections displays.

2. Use the **region selector** at the top of the page to filter for the region of the connection you want to configure, then click the connection in the listing. The connection's **Overview** page displays.

4. Click the **Settings** tab.

5. Make your edits as required:
    - Click directly on the connection's name at the top of the page to edit it.
    - Type new tags directly in the **Tags** box, or use the **x** icon to remove an existing tag.

## How to delete a VPN connection

You must [deactivate route propagation](TODO) before you can delete the connection.

1. Click **Site-to-Site VPN** in the **Network** section of the [Scaleway console](https://console.scaleway.com) side menu. A listing of your VPN connections displays.

2. Use the **region selector** at the top of the page to filter for the region of the VPN connection you want to configure, then click the connection in the listing. The connection's **Overview** page displays.

4. Click the **Settings** tab.

5. Click **Delete connection**.

    A pop-up displays, informing you that this action will permanently delete the connection.

    The VPN gateway and customer gateways used in this connection will **not** be automatically deleted. Remember to delete them yourself if no longer needed.

6. Type **DELETE** to confirm you want to proceed, then click the **Delete* button.

The connection is deleted, and you are returned to the list of your VPN connections.




