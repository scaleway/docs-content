---
meta:
  title: Creating and migrating a secret into a folder using the CLI and Go
  description: Learn how to create a secret and a folder, and migrate your secret into your folder with the CLI and Go
content:
  h1: Creating and migrating a secret into a folder using the CLI and Go
  paragraph: Learn how to create a secret and a folder, and migrate your secret into your folder with the CLI and Go
tags: secret-management folders migration secret-manager go sdk cli
categories:
  - identity-and-access-management
dates:
  validation: 2023-10-03
  posted: 2023-10-03
---

This documentation allows you to create a secret called `ultra-confidential`, a folder called `/confidential-folder` and to migrate the `ultra-confidential` secret into `/confidential-folder` using the [Scaleway CLI](https://github.com/scaleway/scaleway-cli#installation) and the Go programming language.

<Macro id="iam-requirements" />

<Message type="requirement">
- You have a [Scaleway account](/console/my-account/how-to/create-an-account/)
- You have configured the [Scaleway CLI](https://github.com/scaleway/scaleway-cli#installation)
</Message>

1. Open a terminal and run the following command to clone the repository containing the code you need to complete the procedure:

        ```
        git clone git@github.com:scaleway/tutorial-sem-folder-migrate.git
        ```

2. In the same terminal, paste the following commands to export your environment variables. Make sure you add your **own variables**.

    ```
    export SCW_ACCESS_KEY=<Scaleway access key>
    export SCW_SECRET_KEY=<Scaleway secret key>
    export SCW_DEFAULT_ORGANIZATION_ID=<Scaleway default Organization>
    export SCW_DEFAULT_PROJECT_ID=<Scaleway default Project>
    export SCW_DEFAULT_REGION="fr-par"
    export SCW_API_URL="https://api.scaleway.com"
    ```
3. Use the following command to access the `tutorial-sem-folder-migrate` directory:
    ```
    cd tutorial-sem-folder-migrate
    ```
4. Run `go run ./main.go` to launch the creation of your secret, your folder and the migration process.

<Message type="tip">
Refer to the [dedicated documentation](/identity-and-access-management/secret-manager/api-cli/migrate-secrets-in-folders/) to learn how to migrate existing secrets into folders using the CLI and Go.
</Message>