---
meta:
  title: Installing NVIDIA drivers on Ubuntu 22.04
  description: This section provides information on how to install NVIDIA drivers on Ubuntu 22.04
content:
  h1: Installing NVIDIA drivers on Ubuntu 22.04
  paragraph:  This section provides information on how to install NVIDIA Drivers on Ubuntu 22.04
tags: gpu driver nvidia-driver unbuntu l4 l40s
dates:
  validation: 2024-03-27
  posted: 2024-03-27
categories:
  - compute
---

In this guide, we will walk you through the process of installing NVIDIA drivers for L4/L40S GPU Instances on a customized Ubuntu 22.04 image, adapted from the default OS image. 

<Message type="note">
   Before installation, it's important to identify the correct NVIDIA driver version for your system. You can check the recommended driver versions from the official [NVIDIA drivers website](https://www.nvidia.com/en-us/drivers/unix/).
</Message>

## Installing NVIDIA drivers

1. Ensure you have access to the NVIDIA repository. If not, add it to your package manager's sources list. You can follow instructions from the [NVIDIA website](https://developer.nvidia.com/blog/updating-the-cuda-linux-gpg-repository-key/).

2. Update the command line defined in `/etc/default/grub` by adding the parameter `pci=realloc`.

3. Enable the `scw-set-numa-node` service. This service is installed from the [Scaleway ecosystem](https://launchpad.net/~scaleway/+archive/ubuntu/stable) package.

4. Install the necessary NVIDIA drivers using the package manager (apt-get):
    ```
    sudo apt-get install nvidia-docker2 nvidia-headless-<version> nvidia-utils-<version>
    ```
   Replace `<version>` with the specific version number of the NVIDIA drivers you require.

5. After installation, confirm the drivers are working correctly by running:
    ```
    sudo nvidia-smi
    ```
   This command should display information about the installed NVIDIA GPU(s) and their status.

   <Message type="tip">
      Depending on your specific requirements, you may need to perform additional configuration steps, such as setting environment variables or adjusting kernel parameters. Refer to the official NVIDIA documentation for guidance on these configurations.
   </Message>

## Troubleshooting (Optional)
If you encounter errors or issues during the installation process, consider the following troubleshooting steps:
- Check system logs (`dmesg`, `/var/log/syslog`) for any error messages related to NVIDIA drivers.
- Ensure the correct driver version is compatible with your GPU model.
- Verify that the NVIDIA repository is correctly added to your package manager's sources list.
- Consult relevant documentation or forums for additional troubleshooting steps specific to your setup.