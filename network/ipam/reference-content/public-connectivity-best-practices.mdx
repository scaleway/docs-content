---
meta:
  title: Public connectivity - best practices
  description: Discover essential best practices for securing and optimizing public connectivity in your Scaleway cloud environment. Learn how to enhance performance and ensure robust protection.
content:
  h1: Public connectivity - best practices
  paragraph: Discover essential best practices for securing and optimizing public connectivity in your Scaleway cloud environment. Learn how to enhance performance and ensure robust protection.
tags: flexible-ip public-ip private-network connectivity best-practice
dates:
  validation: 2024-09-30
  posted: 2024-09-30
categories:
  - network
---

This document sets out best practices for securing and optimizing public connectivity for your Scaleway resources.

## Public vs private connectivity

Public vs private connectivity defines how resources are accessed and exposed over networks.

* **Public connectivity**: Your resource has a [public IP address](TODO) and is reachable over the public internet. Anyone with the right credentials can access the resource via its public IP address, e.g. over an [SSH connection](TODO) or simply by directly accessing its IP address in a browser to retrieve and display any content it is serving, e.g. over HTTP.

* **Private connectivity**: Your resources is reachable over an attached [Private Network](TODO). The resource has a [private IP address](TODO), but it can only be accessed via this address from within the Private Network. Such a resource may or may not also have a public IP address.

## Flexible IP addresses

Public connectivity for many types of Scaleway resources is facilitated by a [flexible IP address](TODO). 

### What is a flexible IP?

- A flexible IP address is a public IP address that you can attach and detach from the resource at will. 
- If you detach it, it returns to the pool of flexible IP addresses kept in your account for that product, and you can attach it to a different resource (or reattach it to the same one as before).
- Flexible IP addresses are scoped to a single product and a single Availability Zone (AZ). If you create a flexible IP address for an Instance in PAR-2, you can move it to a different Instance in PAR-2, but not to an Instance in PAR-1, nor to an Elastic Metal server in any AZ.


### What are the advantages of flexible IP addresses?

As flexible IP addresses can be moved between resources, they provide the following advantages: 

**Seamless failover and disaster recovery**: If your Instance, for example, goes down, you can move its public IP to a different Instance in the same AZ to ensure the service remains available.
**Zero downtime during maintenance and migration**: When you need to carry out updates, migrations or maintenance on a resource, you can temporarily move its public IP to a backup resource to avoid disruption for users.
**IP retention and consistent endpoints**: Maintaining the same IP avoids the need for frequent DNS or firewall rule updates, and makes it easier to manage your dynamic cloud environments.

In the future, look out for even more improvements to our flexible IP offering, such as the ability to move flexible IPs between different types of products, and to manage all your public flexible IPs from your [IPAM](todo) dashboard.

### How much do flexible IP addresses cost?

As flexible IP addresses stay in your account, even when they are not attached to a running resource, they are generally billed separately from the resource, and at an additional cost. See our [pricing page](https://www.scaleway.com/en/pricing/) for more information.

### Which products are compatible with flexible IPs?

The following products have flexible IP addresses:

- Instances
- Elastic Metal servers
- Load Balancers
- Public Gateways


## When is public connectivity necessary?

## Security best practices

Instances - Security Groups
Load Balancers - ACLs




Implementing firewalls and access control lists (ACLs).
Role of encryption (e.g., TLS/SSL) for securing data in transit.
Using Virtual Private Networks (VPNs) or dedicated secure gateways for enhanced security.
Best practices for API security when using public endpoints.
Network Traffic Management

Leveraging content delivery networks (CDNs) for efficient data delivery.
Rate limiting and throttling to prevent abuse of public-facing services.
Load balancing strategies to distribute traffic and maintain high availability.
IP Address Management

Best practices for managing public IP addresses.
Use of elastic or static IPs.
Avoiding IP address conflicts.
DDoS Mitigation

Techniques for preventing Distributed Denial of Service attacks.
Using cloud-native DDoS protection services.
Monitoring and Observability

Setting up real-time monitoring of public endpoints.
Alerting and logging practices to detect and respond to unusual activity.
Use of analytics tools for traffic and usage monitoring.
Compliance and Regulatory Considerations

Ensuring compliance with data protection laws when using public connectivity (e.g., GDPR, HIPAA).
Secure handling of personally identifiable information (PII) in public environments.
Performance Optimization

Optimizing DNS resolution times.
Caching strategies to reduce latency.
Reducing bottlenecks with edge computing and microservices.
Disaster Recovery and Redundancy

Ensuring failover and redundancy for public-facing services.
Strategies for backup and disaster recovery over public networks.



## Removing public IPs from resources

We strongly recommend that you remove public (flexible) IP addresses from any of your Scaleway resources where public access is not absolutely required. Attaching resources to Private Networks, and limiting their communication to these networks only brings the following advantages:

- **Minimized attack surface**: Without a public IP address, the resource is not exposed directly to the internet, decreasing the risk of DDoS or brute force attacks, or unauthorized access.
- **Reduced cost**: Public (flexible) IP addresses are [billed](TODO), whereas Private Networks and the private IP addresses that attach resources to Private Networks are free of charge. 
- **Improved latency**: Communication between resources over a Private Network is generally faster, as it does not need to be routed through the public internet.

## Safely exposing a Private Network to the internet

### Public Gateways

You can use Scaleway [Public Gateways](/network/public-gateways/) to provide resources on a Private Network with a secure point of access to and from the public internet. 

- Set the Public Gateway to advertize a default route to the internet, allowing attached resources to send packets to the internet via the gateway, without needing their own public IP address.
- Activate the [SSH bastion](TODO) so that you can establish SSH connections to resources on the Private Network via the gateway's bastion.
- Use static NAT to map ingress traffic from the public internet towards resources on the Private Network, using private IP addresses and ports.

### Load Balancers

Another option is to attach a Scaleway [Load Balancer](TODO) to the Private Network. By giving the Load Balancer a public IP address, and configuring Instances on the Private Network as backend servers for the Load Balancer via their private IP addresses, the Load Balancer can securely and efficiently distribute traffic to the Instances. This solution is suitable when you have multiple Instances serving the same application.

You can also remove the public IP address from the Load Balancer itself. This may be relevant if the Load Balancer is configured to receive and distribute traffic from resources on a different Private Network within the same VPC, for example.

## Connecting a VPC to external infrastructure

Watch this space for Scaleway's upcoming solution to provide secure, dedicated connectivity between resources in a Scaleway VPC and your external or on-premises architecture. In the meantime, you may consider installing a manual VPN on a Scaleway Instance to connect to other non-Scaleway infrastructure, and create a [custom route](TODO) towards this VPN so traffic on your Private Network can securely communicate with resources at the other end of your VPN tunnel.

## Instances

Public 

Users can configure a public IPv4 address and or a public IPv6. They can either select from flexible IP options or generate a new one.
Instances can select up to 5 IPs to attach (and more after).
Users will be able to change it later in the Flexible IP section (detach/attach).
Users can choose to not take IPv4 addresses and only have IPv6 (not the case in other products).
If the user activates the setup of a public IP and doesn’t choose an IP type, they will encounter an error requiring them to select at least one IP.
The same applies for private IPs if they don’t fill in PN and private IPs.

Hypotheses: all Instances are routed