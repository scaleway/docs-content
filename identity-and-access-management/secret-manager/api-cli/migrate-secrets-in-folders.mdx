---
meta:
  title: Migrating secrets into folders using the CLI and Go
  description: Learn how to migrate your secrets into your folders using the CLI and Go
content:
  h1: Migrating secrets into folders using the CLI and GO
  paragraph: Learn how to migrate your secrets into your folders using the CLI and Go
tags: secret-management folders migration secret-manager go sdk cli
categories:
  - identity-and-access-management
dates:
  validation: 2023-09-25
  posted: 2023-09-25
---

This documentation shows you how to migrate your secrets into [folders](/identity-and-access-management/secret-manager/concepts/#folder) using the [Scaleway CLI](https://github.com/scaleway/scaleway-cli#installation) and Go. we have created a GitHub repository that contains the code you need to create a folder and to migrate your secrets into this folder using your secrets' IDs.

<Macro id="iam-requirements" />

<Message type="requirement">
- You have a [Scaleway account](/console/my-account/how-to/create-an-account/)
- You have configured the [Scaleway CLI](https://github.com/scaleway/scaleway-cli#installation)
</Message>


1. Open a terminal and run the following command to clone the repository containing the code you need to create a folder and migrate your secrets:

    ```
    git clone git@github.com:scaleway/tutorial-sem-migration.git
    ```

2. In the same terminal, paste the following commands to export your environment variables. Make sure you add your **own variables**.

    ```
    export SCW_ACCESS_KEY=SCWDND6C6TD16EEGPRVP
    export SCW_SECRET_KEY=5a6b294d-c152-44c0-9c87-3c878e5e1890
    export SCW_DEFAULT_ORGANIZATION_ID=0c514155-9e5e-41a2-a900-9fdf0195b563
    export SCW_DEFAULT_PROJECT_ID=0c514155-9e5e-41a2-a900-9fdf0195b563
    export SCW_DEFAULT_REGION="fr-par"
    export SCW_API_URL="https://api.scaleway.com"
    ```

3. Use the following command to access the `tutorial-sem-migration` directory:
    ```
    cd tutorial-sem-migration
    ```
4. Open a Text editor of your choice and open the `main.go` file inside the `tutorial-sem-migration` directory.
5. Replace `my-folder`, lines `24`, `27`, and `34` with the name of your folder.
    <Message type="important">
     Your folder name can only contain alphanumeric characters, dots, underscores and dashes.
    </Message>
6. Replace `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx` lines `18`, `19` and `20` with the IDs of the secrets you want to migrate. You can find your secrets' IDs in the secret's **Overview** tab.

    <Lightbox src="scaleway-secret-id.webp" alt="" />

    <Message type="note">
     You can add as many IDs as you need to fit the amount of secrets you want to migrate into your folder.
    </Message>
7. Save your changes in the `main.go` file.
8. Run `go run ./main.go` to launch the migration.
9. Optionally, follow the same procedure if you need to migrate other secrets into other folders.


