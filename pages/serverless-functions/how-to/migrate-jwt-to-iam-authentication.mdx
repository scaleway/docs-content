---
title: How to migrate from JWT to IAM authentication for private functions
description: Guide to transitioning from JWT authentication to IAM authentication via policies and API keys for Scaleway Serverless Functions.
tags: functions secure private api key jwt json web token migrate switch change iam secret key
dates:
  validation: 2025-11-24
  posted: 2025-11-24
---

Scaleway Serverless Functions used to rely on [legacy JWT authentication tokens](/serverless-functions/concepts/#jwt-token-legacy) to access private resources. This feature is now deprecated, you must therefore use Scaleway IAM to access your private functions using an [API key](/iam/how-to/create-api-keys/).


1. [Set up IAM authentication](/serverless-functions/how-to/create-auth-token-from-console/) by creating an IAM application bearing an API key, and grant it the `FunctionsPrivateAccess` via an IAM policy.

2. [Delete the existing JWT](/serverless-functions/how-to/create-auth-token-from-console/#revoking-authentication/?tab=jwt-legacy-1) for your Serverless Functions to revoke legacy authentication.

3. Pass the secret key of your IAM application's API key via the `X-Auth-Token` header to call your private function:

```bash
curl -H "X-Auth-Token: <YOUR_SECRET_KEY>" <YOUR_FUNCTION_ENDPOINT>
```