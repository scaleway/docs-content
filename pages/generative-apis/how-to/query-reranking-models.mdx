---
title: How to query reranking models
description: Learn how to interact with powerful reranking models using Scaleway's Generative APIs service.
tags: generative-apis ai-data reranking-models
dates:
  validation: 2025-11-25
  posted: 2025-11-25
---
import Requirements from '@macros/iam/requirements.mdx'

Scaleway's Generative APIs service allows users to interact with powerful reranking models hosted on the platform.

Reranking models are designed to be used in **retrieval** pipelines, e.g. RAG, retrieval of previous conversations, or agents needing to choose the best tool call or search result from multiple results. Reanking models filter all the results retrieved, score their relevance, and keep only those that are the most pertinent to the initial query.

For example: a query to a fast (but imprecise) model may return a list of 100 documents. A specialized reranking model can then evaluate these documents more deeply, score each on how well it matches the query, and return only the 10 most relevant documents to the first model to be used in answering the query.

This approach takes advantage of the strengths of each model: one that is fast but not specialized, which can generate candidates quickly, and another than is slow but specialized, to refine these candidates. It can result in reduced context windows with therefore improved relevance, and faster overall query processing time.

<Message type="note">
In the case of using an embedding model such as `qwen3-embedding` for reranking, note that the [Embedding API](TODO) and [Rereanking API](TODO) are functionally equivalent. This is because the generated embedding vectors are normalized - meaning that the reranking score corresponds directly to the **cosine similarity** between vectors, which, for normalized vectors, is identical to the **dot product**.

In practical terms:

- Query vector: `qv = embedding(query`)
- Document vector: `dv = embedding(document content)`
- Relevance score: `score = (qv, dv)` (dot product)

Therefore, if you're performing repeated relevance scoring, you can streamline your workflow as follows:

- Use the **Embeddings API** to generate and store document vectors in a vector database (e.g. **pgvector**).
- At query time, compute the query vector and retrieve the most relevant documents using **dot product or cosine similarity** directly in the vector database, rather than using the Reranking API.

This approach is particularly effective when **reranking results from non-embedding retrieval systems** such as:
- Full-text search (e.g., using **BM25** in OpenSearch)
- Graph-based search
- Hybrid search pipelines combining multiple retrieval strategies
</Message>

There are several ways to interact with reranking models:
- The Scaleway [console](https://console.scaleway.com) provides a complete [playground](/generative-apis/how-to/query-language-models/#accessing-the-playground), aiming to test models, adapt parameters, and observe how these changes affect the output in real-time.
- Via the [Rerank API](https://www.scaleway.com/en/developers/api/generative-apis/TODO)

<Requirements />

- A Scaleway account logged into the [console](https://console.scaleway.com)
- [Owner](/iam/concepts/#owner) status or [IAM permissions](/iam/concepts/#permission) allowing you to perform actions in the intended Organization
- A valid [API key](/iam/how-to/create-api-keys/) for API authentication
- Python 3.7+ installed on your system

## How to query reranking models via the playground

See our [quickstart](/generative-apis/quickstart/#start-with-the-generative-apis-playground) for full details on accessing and testing models in the Scaleway console Generative APIs playground.

## How to query reranking models via API

You can query reranking programmatically using your favorite tools or languages.

In the example that follows, we will use the OpenAI Python client.

### Installing the OpenAI SDK

Install the OpenAI SDK using pip:

```bash
pip install openai
```

### Initializing the client

Initialize the OpenAI client with your base URL and API key:

```python
from openai import OpenAI

# Initialize the client with your base URL and API key
client = OpenAI(
    base_url="https://api.scaleway.ai/v1",  # Scaleway's Generative APIs service URL
    api_key="<SCW_SECRET_KEY>"  # Your unique API secret key from Scaleway
)
```

### Reranking documents

You can now generate a reranking of a given set of documents as follows:
    
```python
curl https://api.scaleway.ai/v1/rerank \
              -H "Authorization: Bearer $SCW_SECRET_KEY" \
              -H "Content-Type: application/json" \
              -d '{
                "model": "qwen3-embedding-8b",
                "query": "What is the biggest area of water on earth ?",
                "documents": [
                  "The Pacific is approximately 165 million km²",
                  "Oceans can be sorted by size: Pacific, Atlantic, Indian",
                  "The Atlantic is a very large ocean.",
                  "The deepest pool on earth is 96 000 m²"
                ],
                "top_n": 3
              }'
```