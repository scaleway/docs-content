---
meta:
  title: Configuring access permissions for Object Storage
  description: This page explains how to combine IAM and bucket policies to improve the configuration of your access permissions for Object Storage.
content:
  h1: Configuring access permissions for Object Storage
  paragraph: This page explains how to combine IAM and bucket policies to improve the configuration of your access permissions for Object Storage.
tags: object storage command bucket s3 iam permissions acl policy
dates:
  validation: 2023-01-23
  posted: 2023-01-17
---

Identity and Access Management (IAM) brings a set of new features to your Scaleway account, allowing you to control and manage access to your resources. For users of Scaleway Object Storage, this means that besides configuring access via [bucket policies](/storage/object/api-cli/bucket-policy/), you can now use IAM policies to configure permissions.

An IAM policy is used to define the permissions of users, groups and applications in a given Organization. A policy is composed of a principal (the user, group or application to which it applies) and one or more IAM rules (which describe the permission sets the principal should have, and the scope of those permission sets).

Bucket policies are a resource-based S3 policy option which allow you to grant users from different Scaleway projects or Organizations, or even specific IP addresses, access to a bucket. The different component strings of a bucket policy allow you to configure your permissions for different purposes.

Bucket policies behave like are objects: they can be uploaded into buckets. Once you upload, or "put", a bucket policy into a bucket, they take immediate effect and will from then on define who can access the bucket.

They are complementary to IAM:
    - IAM is central, and policy-based: it says where people can perform actions in the entire Scaleway ecosystem
    - Bucket policies are at the bucket level, and enable you to state clearly who can perform different actions on this specific bucket

## Defining when to use IAM or bucket policies

IAM can be used when you do not need to configure fine-grained access to specific buckets, and favor simplicity over granularity. IAM is central, and policy-based: it says where people can perform actions in the entire Scaleway ecosystem. For example, if access to resources at project level is enough for your Object Storage use cases, we advise you to use IAM only.

Bucket policies operate at the bucket level, and enable you to state clearly who can perform different actions on a specific bucket.

If you need to configure more granular access to your Object Storage buckets, you can combine both IAM and bucket policies. For example, if you must restrict access to specific actions you can perform on a bucket, or if you need the bucket to be available only to certain IP addresses, you can use a combination of IAM and bucket policies.

<Message type="important">
There are a couple of things to keep in mind when using bucket and IAM policies concurrently:
  - when you create a Scaleway API key with IAM, you are prompted to specify the API keyâ€™s [preferred Project for Object Storage](/identity-and-access-management/iam/api-cli/using-api-key-object-storage/). This API key will always use this Project when carrying out Object Storage actions via any API/CLI.
  - the preferred Project must always be the one of the bucket where you wish to perform an action.
  - each bucket can have only one bucket policy
</Message>

<Message type="note">
  The application of Object Storage permissions can take up to several seconds.
</Message>

## Combining IAM and bucket policies

In order to perform an action, a principal (user or application) must be granted access either via an IAM policy, or an existing bucket policy, or through both at the same time.

For example, if a user wants to list the objects in a bucket, they must ensure that:

    - the IAM policy explicitly allows the user to list Objects (for example, with an `ObjectStorageReadOnly` or a `ObjectStorageObjectRead` permission set specified in the policy)
    - if there is no existing bucket policy, the action allowed by IAM is enough to grant them list access
    - if there is a bucket policy, the list action is explicitly allowed in the bucket policy

<Message type="important">
  Even if you only want to define the permissions available for bucket policies, you must first define IAM policy permissions. This is a necessary step of the process.
</Message>



