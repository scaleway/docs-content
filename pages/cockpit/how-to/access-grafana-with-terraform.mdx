---
title: How to access Grafana with Terraform
description: Learn how to use Grafana (Cockpit) with Terraform
tags: observability cockpit grafana preconfigured-dashboard
dates:
  validation: 2025-12-18
  posted: 2022-12-19
---

import Requirements from '@macros/iam/requirements.mdx'

<Requirements />

- A Scaleway account logged into the [console](https://console.scaleway.com)
- [IAM permissions - Cockpit](/iam/reference-content/permission-sets/#monitoring) : Generate an API key to allow Terraform to access Grafana.
- [Scaleway](https://registry.terraform.io/providers/scaleway/scaleway/latest/docs) & [Grafana](https://registry.terraform.io/providers/grafana/grafana/latest/docs) **Provider Terraform** with latest version.

## Example of Terraform code for accessing Grafana (Cockpit)


```hcl
scaleway.auto.tfvars :

access_key       = "SCWXXXXXXXXXXXXXXXXX"
secret_key       = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
organization_id  = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
project_id       = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
```

```hcl
main.tf :

terraform {
  required_providers {
    scaleway = {
      source  = "scaleway/scaleway"
      version = "2.64.0"
    }
    grafana = {
      source  = "grafana/grafana"
      version = "4.21.0"
    }
  }
}

variable "access_key" {
  type      = string
  sensitive = true
}

variable "secret_key" {
  type      = string
  sensitive = true
}

variable "organization_id" {
  type      = string
  sensitive = true
}

variable "project_id" {
  type      = string
  sensitive = true
}

provider "scaleway" {
  access_key      = var.access_key
  secret_key      = var.secret_key
  organization_id = var.organization_id
  project_id      = var.project_id
}

provider "grafana" {
  url          = "https://${var.project_id}.dashboard.cockpit.scaleway.com"
  auth         = "anonymous"

  http_headers = {
    "X-Auth-Token" = var.secret_key
  }
}
```
<Message type="tip">
You can use the provider resources by following this [documentation](https://registry.terraform.io/providers/scaleway/scaleway/latest/docs)
</Message>