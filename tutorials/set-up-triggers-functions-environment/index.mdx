---
meta:
  title: Setting up your demo environment to use Serverless Functions and Triggers
  description: This pages shows you how to set up your environment to create a demo using Serverless Functions and Triggers
content:
  h1: Setting up your demo environment to use Serverless Functions and Triggers
  paragraph: This pages shows you how to set up your environment to create a demo using Serverless Functions and Triggers
categories:
  - serverless
tags: serverless serverless-functions functions serverless-triggers triggers sqs-queue
dates:
  validation: 2023-06-19
  posted: 2023-06-19
---

## Introduction

Serverless Functions are an asynchronous microservice architecture where event sources are decorelated from event consumers.

They work best when they are triggered by events stored in queues, it is  which means that they can be edited if needed without having to edit every microservice in the process.

In this tutorial, you will create the following resources to use your functions:

- A project dedicated to this tutorial
- Two buckets to store media
- A queue to manage events
- IAM credentials to secure our environment
- Cockpit to monitor your functions

<Macro id="iam-requirements" />
 
<Message type="requirement">
  - You have an account and are logged into the [Scaleway console](https://console.scaleway.com).
  - You have around 10 JPG or PNG images.
  - You have [Vim](https://www.vim.org/download.php) installed.
</Message>

## Creating a New Project

1. From the Organization Dashboard which displays when you log into the console, click the **Projects** tab. A list of your Projects displays.
2. Click **+ Create Project** on the righthand side and a pop-up appears. 
3. Name the project "Functions Tutorial".
4. Click **Create new Project** and the new Project is added to the list. 

## Creating the source bucket

1. Click **Object Storage** under **Storage** on the left side menu of the console. The Object Storage dashboard displays.
3. Click **+ Create a bucket**.
4. Name it "source-images-{YourName}".
5. Chose the **AMSTERDAM** Region.
6. Set the bucket visibility to **Private**.
7. Click **Create Bucket**. The bucket **Files** tab displays.
8. Upload your images to the bucket and select the **Standard** storage class.

## Creating the destination bucket

1. Click **Storage**, then **Object Storage** on the left side menu of the console. The Object Storage dashboard displays.
2. Click **+ Create a bucket**.
3. Name it "dest-images-{YourName}".
4. Chose the **AMSTERDAM** Region.
5. Set the bucket visibility to **Private**.
6. Click **Create Bucket**.

## Creating a messaging and queuing namespace

Message queues allow functions to reliably communicate with each other.

1. Click **Messaging** under **Serverless**.
2. Click **Create namespace**.
3. Choose **SQS/SNS** as type.
4. Choose a name or generate one.
5. Click **Create namespace**.

## Generating credentials for the M&Q namespace

1. Click on the namespace you just created.
2. Click **Generate credentials**.
3. Name your credentials "Function Push".
4. Enable the **Write**, **Read** and **Manage** permissions.
5. Click **Generate credentials**.
6. Store the Access key ID and the Secret key securely, as you will not be able to access them later.

## Creating a Queue

1. Click the Queues tab of your namespace.
2. Click **Create queue**.
3. Select a *Standard** queue type.
4. Name it "image-queue". 
5. Keep the default parameters.
6. Click **Create queue**.

## Creating IAM credentials

Identity and Access Management (IAM) credentials enable to secure access to our buckets, functions, etc. 

<Message type="note">
    For this tutorial we will use User credentials which are simpler to use. However for production-grade Serverless applications, we recommend to use Applications credentials with the minimum possible rights.
</Message>

1. Click the organization on the top right corner and Select **API Keys**. The IAM **API keys** tab displays.
2. Click **+ Generate an API key** or the <Icon name="plus" /> button.
3. Select **Myself (IAM)** as the API Key Bearer.
4. Enter “API for the Function Tutorial” as a description.
5. Set **Expiration** to **One Week**.
6. Select **Yes, set up preferred Project**
7. Choose the **Functions Tutorial** project (or the name you gave to this project).
8. Click **Generate API Key**.
9. Store the Access key ID and the Secret key securely, as you will not be able to access them later.

## Enabling monitoring with Cockpit

1. Click **Cockpit** under **Observability**.
2. Click **Activate Cockpit**.
3. Click the **Grafana users** tab. 
4. Click **+ Add user**.
5. Enter a username.
6. Select the **Editor** role.
7. Click **Add user**.
8. Store the password securely, as you will not be able to access it later.

## Conclusion

You have now created all the resources to use Serverless Functions.

Setting up an environment with all the necessary resources can be time consuming. You can use Iac (Infrastructure as Code) tools such as [Terraform](/tutorials/manage-instances-with-terraform-and-functions/).

Now, let's [create and push some functions](/tutorials/create-deploy-serverless-functions/index.mdx).