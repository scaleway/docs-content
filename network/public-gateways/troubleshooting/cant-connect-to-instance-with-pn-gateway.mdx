---
meta:
  title: I cannot connect to my Instance using SSH after after attaching it to a Private Network which has a Public Gateway
  description: This page explains how troubleshoot connection problems after after attaching an Instance to a Private Network which has a Public Gateway
content:
  h1: I cannot connect to my Instance using SSH after after attaching it to a Private Network which has a Public Gateway
  paragraph: This page explains how troubleshoot connection problems after after attaching an Instance to a Private Network which has a Public Gateway
tags: troubleshoot error private-network private network vpc public-gateway
dates:
  validation: 2024-05-24
  posted: 2021-05-26
categories:
  - network
---

<Macro id="iam-requirements" />

TODO this whole thing needs modifying and maybe moving
- Will the PGW keep an "advertize a default route" setting?

The action to take depends on whether DHCP is enabled on your Public Gateway and set to advertize a default route (true by default).

If it is not, disconnect the Instance from the Private Network, as there may be other factors impacting your Instance, like one of your Instances running a DHCP server.

If it is, this is expected behavior as all the traffic towards your Instance now goes through the Public Gateway. To access your Instance using SSH, first create a static NAT association between a port of your Public Gateway (eg 2222) and the private IP assigned to your Instance, on the SSH port (22 by default). Then, SSH to the Public Gateway's IP on port 2222.
