---
meta:
  title: Using your own Grafana with Cockpit
  description: This page shows how to use your own Grafana using Scaleway Cockpit.
content:
  h1: Using your own Grafana with Cockpit
  paragraph: This page shows how to use your own Grafana using Scaleway Cockpit.
categories:
  - cockpit
tags: cockpit metrics logs alerts prometheus loki grafana mimir
dates:
  validation: 2024-05-30
  posted: 2023-05-10
---

In this tutorial, you will learn how to use your own Grafana with [Scaleway's Cockpit](/observability/cockpit/quickstart/) service. In this tutorial, we are using Grafana version 9.5.1.

<Macro id="requirements" />

- A Scaleway account logged into the [console](https://console.scaleway.com)
- [Owner](/identity-and-access-management/iam/concepts/#owner) status or [IAM permissions](/identity-and-access-management/iam/concepts/#permission) allowing you to perform actions in the intended Organization
- Installed [Docker](https://docs.docker.com/engine/install/)
- Downloaded the [latest version of Grafana](https://grafana.com/grafana/download)

## Launching Grafana

1. Run the following command to launch Grafana in a Docker container on your local machine:

        ```bash
        docker run -d -p 3000:3000 grafana/grafana-oss:9.5.1
        ```
2. [Create a token](/observability/cockpit/how-to/create-token/) with the following permissions:
    - Query metrics
    - Query logs
    - Rules for metrics
    - Rules for logs
    - Alerts

3. Copy your token's secret key as you will need it for the following steps.
4. Open [http://localhost:3000](http://localhost:3000) in a web browser on your local computer to access Grafana.
5. Sign up using `admin` as your username and password. You will then be prompted to change your password.

## Creating your data source for external metrics

1. From the Grafana homepage, click **Add your first data source**.
2. Select the Prometheus data source in the list that displays.
3. Retrieve the URL of the metrics data source you want to add from the [Data sources tab](https://console.scaleway.com/cockpit/dataSource) of the Scaleway console.
4. Paste your metrics' URL in the URL field of the **Connection** section:
    <Lightbox src="scaleway_cockpit_tuto_url.webp" alt="" />
5. From the **Authentication** section > **HTTP headers**, click **+ Add header**.
6. Enter `X-Token` in the **Header** field.
7. Enter your token's secret key in the **Value** field.
8. From the **Advanced settings** section > **Performance**, select **Mimir** in the **Prometheus type** drop-down.
9. Select the latest version in the **Mimir version** drop-down.
10. Click **Save & test** to confirm.

## Creating your data source for your Scaleway metrics

1. From the Grafana homepage, click **Add your first data source**.
2. Select the Prometheus data source in the list that displays.
3. Retrieve the URL of the internal metrics data source you want to add from the [Data sources tab](https://console.scaleway.com/cockpit/dataSource) of the Scaleway console.
4. Paste your metrics' URL in the URL field of the **Connection** section:
    <Lightbox src="scaleway_cockpit_tuto_url.webp" alt="" />
5. From the **Authentication** section > **HTTP headers**, click **+ Add header**.
6. Enter `X-Token` in the **Header** field.
7. Enter your token's secret key in the **Value** field.
8. Click **+ Add another header**.
9. Enter `X-Datasource` in the **Header** field.
10. Enter `product` in the **Value** field.
11. From the **Advanced settings** section > **Performance**, select **Mimir** in the **Prometheus type** drop-down.
12. Select the latest version in the **Mimir version** drop-down.
13. Click **Save & test** to confirm.

## Creating your data source for external logs

1. From the Grafana homepage, click **Add your first data source**.
2. Select the Loki data source in the list that displays.
3. Retrieve the URL of the external logs data source you want to add from the [Data sources tab](https://console.scaleway.com/cockpit/dataSource) of the Scaleway console.
4. Paste your logs' URL in the URL field of the **Connection** section.
5. From the **Authentication** section > **HTTP headers**, click **+ Add header**.
6. Enter `X-Token` in the **Header** field.
7. Enter your token's secret key in the **Value** field.
8. Click **Save & test** to confirm.

## Creating your data source for your Scaleway logs

1. From the Grafana homepage, click **Add your first data source**
2. Select the Loki data source in the list that displays.
3. Retrieve the URL of the internal logs data source you want to add from the [Data sources tab](https://console.scaleway.com/cockpit/dataSource) of the Scaleway console.
4. Paste your logs' URL in the URL field of the **Connection** section.
5. From the **Authentication** section > **HTTP headers**, click **+ Add header**.
6. Enter `X-Token` in the **Header** field.
7. Enter your token's secret key in the **Value** field.
8. Click **+ Add another header**.
9. Enter `X-Datasource` in the **Header** field.
10. Enter `product` in the **Value** field.
11. Click **Save & test** to confirm.

## Creating your data source for your Alert manager

1. From the Grafana homepage, click **Add your first data source**
2. Select the **alertmanager** data source.
3. Retrieve the URL of the internal logs data source you want to add from the [Data sources tab](https://console.scaleway.com/cockpit/dataSource) of the Scaleway console.
5. Click **Add header** in the **Custom HTTP Headers** section.
6. Enter `X-Token` in the **Header** field.
7. Enter your token's secret key in the **Value** field.
8. Click **Save & test** to confirm.

Once you have completed the steps above, your Grafana instance should be set up and ready to use.
